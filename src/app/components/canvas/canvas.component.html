<div class="px-2 w-100" style="height: 80%;"> 
  <div class="w-100 mt-5" id="head">
    <div class="btn-row" id="btn-row">
      <button type="button" (click)="interactionToggle()" [disabled]="selectedLine == -1">Interaction</button>
      <div>
        <button type="button" (click)="openAddFunction()">Add furmula</button>
        <button type="button" (click)="openAddText()">Add text</button>
        <button type="button" (click)="clear()">Clear</button>
      </div>
      <button type="button" (click)="dictionaryToggle()">Dictionary</button>
    </div>
  </div>
  <div class="body" id="body">
    <div class="d-flex justify-content-between" style="margin-top: -10px; margin-right: -10px;">
      <div>
        <input type="text" placeholder="Title" class="" style="margin-top:10px; border: none;">
      </div>
      <div>
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon>more_horiz</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item [matMenuTriggerFor]="save">
            <mat-icon>save_alt</mat-icon>
            <span>Save As...</span>
          </button>
          <mat-menu #save>
            <button mat-menu-item>
              <mat-icon>save_alt</mat-icon>
              <span>json</span>
            </button>
            <button mat-menu-item>
              <mat-icon>save_alt</mat-icon>
              <span>txt</span>
            </button>
          </mat-menu>
          
          <button mat-menu-item [matMenuTriggerFor]="open">
            <mat-icon>folder_open</mat-icon>
            <span>Open From...</span>
          </button>
          <mat-menu #open>
            <button mat-menu-item>
              <mat-icon>save_alt</mat-icon>
              <span>from bufer</span>
            </button>
            <button mat-menu-item>
              <mat-icon>save_alt</mat-icon>
              <span>from folder</span>
            </button>
          </mat-menu>
        </mat-menu>
      </div>
    </div>
    <div cdkDropList (cdkDropListDropped)="drop($event)">
      <ng-container *ngFor="let line of lines; index as i">
        <div [id]="line.id" cdkDrag class="d-flex justify-content-between bg-white p-1">
          <div class="my-auto mjwrap" id="line-{{line.id}}" (click)="lineSelect(i)" [ngClass]="{'bg-warning': this.selectedLine == line.id}">
            {{line.line}}
          </div>
          <div class="d-flex">
            <button class="btn btn-outline-secondary d-flex p-0 mx-1 my-auto border-0" (click)="copyFunction(i)">
              <mat-icon aria-hidden="false" fontIcon="file_copy"></mat-icon>
            </button>
            <button class="btn btn-outline-secondary d-flex p-0 my-auto border-0" (click)="deleteFunction(i)">
              <mat-icon aria-hidden="false" fontIcon="close"></mat-icon>
            </button>
            <mat-icon aria-hidden="false" fontIcon="drag_indicator" cdkDragHandle class="drag-icon ms-2 my-auto"></mat-icon>
          </div>
        </div>
      </ng-container>
    </div>

    <div (mouseover)="selection($event)" (mousedown)="clickSelection($event)">
      \(px^2 + qx + r = 0\) 
    </div>
  </div>
</div>